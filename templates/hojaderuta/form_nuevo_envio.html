{% extends "layout.html" %}

{% load static %}

{% block content %}

<div class="row">
    <div class="col-xl-3 col-md-3 col-sm-12 col-xxl-3">
        <div class="row text-center">
            <h4>
                <b>Nuevo envio</b>
            </h4>
        </div>
        <br>
        <div class="row">
            <div class="col text-center" style="margin-bottom: 15px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" class="bi bi-box-seam box1" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" class="bi bi-box-seam box2" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" class="bi bi-box-seam box3" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                </svg>             
            </div>
        </div>
        <br>
        <div class="row">
            <p>Selecciona la sucursal de donde quieres hacer tu envio, la sucursal de destino
                y agrega una descripcion de lo que quieres enviar.
            </p>
        </div>
    </div>

    <div class="col-xl-9 col-md-9 col-sm-12 col-xxl-9">
        <br>
        <form  class="px-4 py-3" action="{% url 'nuevo_envio' %}" method="post">
            
            <div class="form-control">

                {% csrf_token %}
                
                <label for="id_origen">Desde</label>   
                <div>
                    <select name="origen" class="form-control" required id="id_origen">
                        {% if nodos_perfil %}
                            
                            {% for nodo in nodos_perfil %}
                
                                <option value='{{ nodo.id }}'>{{ nodo.nombre }}</option>
                        
                            {% endfor %}
                        
                        {% endif %}
                    </select>
                </div>
            
                <label for="id_destino">Para</label>   
                <div>
                    <select name="destino" class="form-control" required id="id_destino">
                        {% if nodos %}
                            
                            {% for nodo in nodos %}
                
                                <option value='{{ nodo.id }}'>{{ nodo }}</option>
                        
                            {% endfor %}
                        
                        {% endif %}
                    </select>
                </div>
                <label for="id_descripcion">Descripción</label>
                <div>
                    {{form.descripcion }}
                </div>
                <div>
                    <input type="submit" value="Crear envío" class="btn btn-sm btn-primary" id="btn_ok" style="margin: 5px;">
                </div>
            </div>       
        </form> 
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>

<script>
    gsap.to( 
     ".box1",{
        scrollTrigger: {
                trigger: ".box1",
                toggleActions: "restart none none none",
            }, 
         x: 0,
         y: 25, 
         fill: '#d63384', //code
         rotation: 360, 
         duration: 4,
         scale: 2  
     });

gsap.to( 
    ".box2",{
        scrollTrigger: {
                trigger: ".box2",
                toggleActions: "restart none none none",
            },
        x: 0,
        y: -10, 
        fill: '#0dcaf0', //cian
        rotation: 360, 
        duration: 4, 
        scale: 2 
    });
 
gsap.to( 
    ".box3",{
        scrollTrigger: {
                trigger: ".box3",
                toggleActions: "restart none none none",
            }, 
        x: 0,
        y: 25, 
        fill: '#712cf9', //violeta
        rotation: 360, 
        duration: 4, 
        scale: 2 
    });
</script>

{% endblock %}